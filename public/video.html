<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/dist/main.css">
    <title>BetterStreamer</title>
</head>

<body>
    <div class="mobile-top-navbar">
        <img src="/svg/user-group.svg" onclick="toggleSideBar('left')" alt="Users">
        <img src="/svg/chat.svg" onclick="toggleSideBar('right')" alt="Chat">
    </div>

    <div id="grid-container" class="grid-container">
        <div id="ls" class="left-sidebar">
            <div class="list-connected-users" id="connected-users-list">
            </div>
        </div>

        <div class="center-videos">
            <div class="videowrapper" id="videowrapper"></div>
            <div id="stageWrapper">
                <div id="stage" class="stage"></div>
                <div id="botStage" class="botStage"></div>
            </div>
            <!-- <span onclick="pm.changeStream()" class="startStream">Start Stream</span> -->
        </div>

        <div id="rs" class="right-sidebar">
            <div class="chat-wrapper">
                <div onclick="toggleSideBar('right')" class="chat-open-close-btn">
                    <img src="/svg/chevron-left.svg">
                </div>
                <div class="chat-body">
                    <!-- <div class="chat-message-wrapper">
                        <div class="connected-user">
                            <img src="https://external-content.duckduckgo.com/iu/?u=https://i.pinimg.com/280x280_RS/31/c9/0f/31c90ff8e26ae36b6adac2c7dbcfcc97.jpg&amp;f=1&amp;nofb=1" class="">
                            <span>herbbert</span>
                        </div>
                        <div class="chat-message">
                            <span>Hallo wie gehts</span>
                        </div>
                    </div> -->
                </div>

                <div class="chat-input">
                    <form id="chatInput">
                        <textarea type="text" id="inputMsg" autocomplete="off" placeholder="Nachricht" rows="1"></textarea>
                    </form>
                    <!-- <button onclick="sendMessage()" class="chat-send-button">
                        <img src="/svg/send.svg" />
                    </button> -->
                </div>
            </div>
        </div>
    </div>

    <div class="startStreamStepsWrapper" id="startStreamModal">
        
        <div class="startStreamStepOne" id="startStreamStepOne">
            <div class="shareScreenWrapper" id="startScreenShare">
                <img src="/svg/desktop.svg" alt="">
                <p>Bildschirm teilen</p>
            </div>
            <div class="shareCameraWrapper" id="startCameraShare">
                <img src="/svg/camera.svg" alt="">
                <p>Kamera teilen</p>
            </div>
        </div>
        
        <div class="startStreamStepTwo" id="startStreamStepTwo">
            <div class="button-back">
                <img src="/svg/arrow-left.svg" alt="Back" id="startStreamGoBack">
            </div>
            <div class="startStreamResolutionWrapper">
                <span>Aufl√∂sung</span>
                <div name="resolution" id="resolutionSelector">
                    <div data-value="1080">1080p</div>
                    <div style="display: none;" data-value="720">720p</div>
                    <div style="display: none;" data-value="1440">1440p</div>
                    <div style="display: none;" data-value="2160">2160p</div>
                </div>
            </div>
            <div class="startStreamFramerateWrapper">
                <span>Bildrate</span>
                <div class="fr-rs-wrapper" id="framerateDiv">
                    <div class="slider-framerate" id="slider-fr" style="left: 51.5938px;"></div>
                    <span data-value="15">15</span>
                    <span data-value="30">30</span>
                    <span data-value="60">60</span>
                </div>
            </div>
            <div class="button-startStreaming" onclick="chooseStream()">
                Start
            </div>
        </div>
    </div>

    <div class="bot_bar_hover">
        <div class="bot_bar">
            <!--
            <div id="stopStreamBTN" onclick="stopStream()" class="bot_bar_item">
                <img src="/svg/stop.svg" />
                <span>Stop</span>
            </div>
            -->
            <div id="startStreamBTN" class="bot_bar_item">
                <img src="/svg/desktop.svg" />
                <span>Start Stream</span>
            </div>
            <!--
            <div id="" onclick="openProfileModal() " class="bot_bar_item">
                <img src="/svg/cog.svg" />
                <span>Change Profile</span>
            </div>
            <div id="" onclick="rcss()" class="bot_bar_item">
                <img src="/svg/cog.svg" />
                <span>Reload CSS</span>
            </div>
            -->
        </div>
    </div>

    <div class="toast_wrapper" id="toastContainer"></div>

    <div id="infoDataWrapper" class="infoDataWrapper">
        <div id="infoDataTabs" class="tabsWrapper">
            <div class="tabsHeader row">
                <div class="tabsHeaderItem" onclick="handleTabClick(this, 'tabbody1')">Peer Connections</div>
                <div class="tabsHeaderItem" onclick="handleTabClick(this, 'tabbody2')">Peer Stream Stats</div>
                <div class="tabsHeaderItem" onclick="handleTabClick(this, 'thumbnail')">Thumbnail</div>
                <div class="tabsHeaderItem" onclick="handleTabClick(this, 'settings')">Settings</div>

            </div>
            <div id="tabbody1" class="tabBody active">
                <div id="peerConnections"></div>
            </div>
            <div id="tabbody2" class="tabBody ">
                <div id="peerStreamStats"></div>
            </div>
            <div id="settings" class="tabBody ">
                <div class="text-light">
                    <input id="debugVisable" type="checkbox">
                    <label class="text-light" for="debugVisable">Debug Visable</label><br>
                    <input id="debugBGColor" type="text"><label class="text-light" for="debugBGColor">debug BG Color</label><br>
                    <p>Strg + D Toggels Visibility</p>
                    <p>Strg + Y Resets Window Size and Position</p>
                    <button onclick="saveDebugSettings()">Save</button>
                </div>
            </div>
            <div id="thumbnail" class="tabBody ">
                <img id="thumbnail_prev">
            </div>
        </div>
    </div>

    <modal id="testmodal" class="hide">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Modal Header</h2>
                <button class="btn-secondary" onclick="modals.testmodal.close()">X</button>
            </div>
            <div class="modal-body">
                <p>Some text in the Modal Body</p>
                <p>Some other text...</p>
            </div>
            <div class="modal-footer">
                <h3>Modal Footer</h3>
            </div>
        </div>
    </modal>

    <modal id="setIdent" class="hide">
        <div class="modal-content">
            <div class="modal-header col-6">
                <h2>Set your Username</h2>
                <button class="btn form-input" onclick="modals.setIdent.close()">X</button>
            </div>
            <div class="modal-body col-6">
                <div class="row ">
                    <div class="col-6">Username</div>

                    <input class="col-6 form-input" id="username">
                </div>
                <div class="row">
                    <div class="col-6">Avatar URL</div>

                    <input class="col-6 form-input" id="avatar">
                </div>
            </div>
            <div class="modal-footer col-6">
                <button class="btn form-input" onclick="saveProfile()">Speichern</button>
            </div>
        </div>
    </modal>

    <modal id="userIdent" class="hide">
        <div class="modal-content">
            <div class="modal-header col-6">
                <h2>Profile</h2>
                <button class="btn form-input" onclick="modals.userIdent.close()">X</button>
            </div>
            <div class="modal-body col-6">
                <div class="row ">

                    <p class="col-6" id="profile_username"></p>
                </div>
                <div class="row">

                    <img class="avatar" id="profile_avatar">

                </div>
            </div>
        </div>
    </modal>

    <modal id="joinRoom" class="hide">
        <div class="modal-content">
            <div class="modal-header col-6">
                <h2>Join Room</h2>
                <button class="btn form-input" onclick="modals.joinRoom.close(); modals.createRoom.open()">Create</button>
            </div>
            <div class="modal-body col-6">
                <div class="row">
                    <div class="col-6">Room id</div>

                    <input class="col-6 form-input" id="joinroomid">
                </div>
                <div class="row">
                    <div class="col-6">Password</div>

                    <input type="password" class="col-6 form-input" id="joinpassword">
                </div>
            </div>
            <div class="modal-footer col-6">
                <button class="btn form-input" onclick="joinRoom()">Join</button>
            </div>
        </div>
    </modal>

    <modal id="createRoom" class="hide">
        <div class="modal-content">
            <div class="modal-header col-6">
                <h2>Create Room</h2>
                <button class="btn form-input" onclick="modals.createRoom.close(); modals.joinRoom.open()">Join</button>
            </div>
            <div class="modal-body col-6">
                <div class="row ">
                    <div class="col-6">Room name</div>

                    <input class="col-6 form-input" id="roomname">
                </div>
                <div class="row">
                    <div class="col-6">Room id</div>

                    <input class="col-6 form-input" id="roomid">
                </div>
                <div class="row">
                    <div class="col-6">Password</div>

                    <input type="password" class="col-6 form-input" id="password">
                </div>
            </div>
            <div class="modal-footer col-6">
                <button class="btn form-input" onclick="createRoom()">Create</button>
            </div>
        </div>
    </modal>

    <modal id="chooseStream" class="hide">
        <div class="modal-content">
            <div class="modal-header col-11">
                <h2>Choose Stream Type</h2>
                <button class="btn" onclick="modals.chooseStream.close()">X</button>
            </div>
            <div class="modal-body col-11">
                <div class="row">
                    <select name="streamType">
                        <option value="dt">Stream Desktop</option>
                        <option value="cam">Stream Kamera</option>
                        <!-- <option value="yt">Stream Youtube </option> -->
                    </select>

                    <select name="streamRes">
                        <option value="0x0">Auto</option>
                        <option value="1280x720">1280 x 720</option>
                        <option value="1920x1080">1920 x 1080</option>
                        <option value="2560x1440">2560 x 1440</option>
                    </select>

                    <select name="streamFPS">
                        <option value="10">10 FPS</option>
                        <option value="20">20 FPS</option>
                        <option selected="selected" value="30">30 FPS</option>
                        <option value="60">60 FPS</option>
                    </select>

                    <select name="streamHint">
                        <option value="">Auto</option>
                        <option value="motion">Motion</option>
                        <option value="detail">Detail</option>
                        <option value="text">Text</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer col-11">
                <button class="btn" onclick="chooseStream()">Stream</button>
            </div>
        </div>
    </modal>



    <template id="testToast">
        <div class="toast ">
            <div class="toast-header row">Head</div>
            <div class="toast-content row">
                <p>Toast</p>
            </div>
            <div class="toast-footer row">
                <button class="btn form-input" onclick="">Close</button>
            </div>
        </div>
    </template>

    <template id="videoElementTemplate">
        <div id="" class="videoElement">
            <button class="fullscreenBTN">
                <img src="/svg/fullscreen.svg" alt="">
            </button>
            <input class="streamVolumeSlider" type="range" min="0" max="100">
            <div class="namePlaceholder">placeholder</div>
            <div class="infoData">
                <div id="infoData_In" class="infoData"></div>
                <div id="infoData_Out" class="infoData"></div>
            </div>

            <img src="" class="avatar">
            <video></video>
            <img id="" class="thumbnail">
        </div>
    </template>

    <template id="connectedUserTemplate">
        <div class="connected-user-wrapper" id="">
            <div class="connected-user">
                <img src="">
                <span>placeholder</span>
            </div>
            <div class="button-watch" style="display: none">
                <span>Watch</span>
            </div>
        </div>
    </template>

    <template id="chatMsgTemplate">
        <div class="chat-message-wrapper" name="" id="">
            <div class="chat-message-avatar">
                <img src="">
            </div>
            <div class="chat-message-container">
                <div class="chat-message-info">
                    <span class="chat-message-username">placeholder</span>
                    <span class="chat-message-time">placeholder</span>
                </div>
                <div class="chat-message-content">
                    <span></span>
                </div>
            </div>
        </div>
    </template>

    <template id="chatMsgTemplate-old">
        <div class="chat-message-wrapper" name="" id="">

            <div class="connected-user">
                <img src="">
                <span class="chat-message-username">placeholder</span>
                <span class="chat-message-time">placeholder</span>
            </div>

            <div class="chat-message">
                <span></span>
            </div>
        </div>
    </template>

    <template id="dataInfo">
        <div class="infoData">
            <div class="infoDataHeader"></div>
            <div class="infoDataBody"></div>
        </div>
    </template>

    <template id="streamInfo">
        <div class="infoData">
            <div id="connectionID" class="infoDataHeader text-light"></div>
            <div id="initiator" class="infoDataHeader text-light"></div>
            <div id="remotesid" class="infoDataHeader text-light"></div>
            <div id="localsid" class="infoDataHeader text-light"></div>
            <div id="connected" class="infoDataHeader text-light"></div>
            <div id="identity" class="infoDataHeader text-light">
                <div class="username"></div>
                <div class="id"></div>
            </div>

            <div id="sended" class="infoDataHeader text-light">
                <div class="current"></div>
                <div class="total"></div>
            </div>
            <div id="received" class="infoDataHeader text-light">
                <div class="current"></div>
                <div class="total"></div>
            </div>
        </div>
    </template>

    <div id="contextMenu" class="context-menu" style="display:none">
        <ul>
            <li><a href="#">Element-1</a></li>
            <li><a href="#">Element-2</a></li>
            <li><a href="#">Element-3</a></li>
            <li><a href="#">Element-4</a></li>
            <li><a href="#">Element-5</a></li>
            <li><a href="#">Element-6</a></li>
            <li><a href="#">Element-7</a></li>
        </ul>
    </div>

</body>
<script src="/socket.io/socket.io.js"></script>
<script src="/js/global_vars.js"></script>
<script src="/js/easy-peer.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/events.js"></script>
<script src="/js/uifw.js"></script>
<script src="/js/socket.js"></script>
<script src="/js/debug.js"></script>
<script src="/js/init.js"></script>

</html>